---
interface Props {
  zIndex?: number;
  amount?: number;
}

const { zIndex, amount = 10 } = Astro.props;
---

<div
  id="snowflakes"
  class:list={[
    "w-full h-full flex justify-between absolute -top-16 left-0 overflow-hidden",
    "*:animate-snowflakes *:bg-contain *:bg-no-repeat *:brightness-0 *:invert",
    "[&>*:nth-child(even)]:bg-snow-ball [&>*:nth-child(odd)]:bg-snow-star",
    "[&>*:nth-child(3n)]:w-6 [&>*:nth-child(3n)]:h-6 [&>*:nth-child(3n)]:[animation-duration:4s] [&>*:nth-child(3n)]:[animation-iteration-count:60] [&>*:nth-child(3n)]:origin-[center_-45px]",
    "[&>*:nth-child(3n+1)]:w-8 [&>*:nth-child(3n+1)]:h-8 [&>*:nth-child(3n+1)]:[animation-duration:6s] [&>*:nth-child(3n+1)]:[animation-iteration-count:45] [&>*:nth-child(3n+1)]:origin-[center_-30px]",
    "[&>*:nth-child(3n+2)]:w-10 [&>*:nth-child(3n+2)]:h-10 [&>*:nth-child(3n+2)]:[animation-duration:8s] [&>*:nth-child(3n+2)]:[animation-iteration-count:30] [&>*:nth-child(3n+2)]:origin-[center_-15px]",
    "[&>*:nth-child(7n)]:[animation-delay:0s] [&>*:nth-child(7n)]:[animation-timing-function:ease-in]",
    "[&>*:nth-child(7n+1)]:[animation-delay:1s] [&>*:nth-child(7n+1)]:[animation-timing-function:ease-out]",
    "[&>*:nth-child(7n+2)]:[animation-delay:1.5s] [&>*:nth-child(7n+2)]:[animation-timing-function:linear]",
    "[&>*:nth-child(7n+3)]:[animation-delay:2s] [&>*:nth-child(7n+3)]:[animation-timing-function:ease-in]",
    "[&>*:nth-child(7n+4)]:[animation-delay:2.5s] [&>*:nth-child(7n+4)]:[animation-timing-function:linear]",
    "[&>*:nth-child(7n+5)]:[animation-delay:3s] [&>*:nth-child(7n+5)]:[animation-timing-function:ease-out]",
    "[&>*:nth-child(7n+6)]:[animation-delay:3.5s] [&>*:nth-child(7n+6)]:[animation-timing-function:ease-in]",
  ]}
  style=`z-index: ${zIndex};`
>
  {Array.from(new Array(amount), () => <i />)}
</div>
